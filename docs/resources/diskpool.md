---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "backupdr_diskpool Resource - terraform-provider-backupdr"
subcategory: ""
description: |-
  Backup/recovery appliances store data in these types of pools: Primary, Cloud, OnVault, and Snapshot. Every backup/recovery appliance has one primary pool that contains metadata and log files for the backup/recovery appliance. No user data or backups are stored in the primary pool.
  Cloud type pools represent Cloud credentials used to back up Compute Engine instances. These pools are automatically created when a Cloud credential is created. They do not represent a pool of disks managed by the backup/recovery appliance.OnVault pools provide long-term object storage using Google Cloud storage buckets. Snapshot pools contain your most recent backups and restored images. They enable instant access to your data. For more information, see Storage pools https://cloud.google.com/backup-disaster-recovery/docs/concepts/storage-pools.
---

# backupdr_diskpool (Resource)

Backup/recovery appliances store data in these types of pools: Primary, Cloud, OnVault, and Snapshot. Every backup/recovery appliance has one primary pool that contains metadata and log files for the backup/recovery appliance. No user data or backups are stored in the primary pool. 
Cloud type pools represent Cloud credentials used to back up Compute Engine instances. These pools are automatically created when a Cloud credential is created. They do not represent a pool of disks managed by the backup/recovery appliance.  
OnVault pools provide long-term object storage using Google Cloud storage buckets. Snapshot pools contain your most recent backups and restored images. They enable instant access to your data. For more information, see [Storage pools](https://cloud.google.com/backup-disaster-recovery/docs/concepts/storage-pools).

## Example Usage

```terraform
resource "backupdr_diskpool" "name" {
  name                = "<name>"
  pooltype            = "vault"
  appliance_clusterid = "<appliance-clusterid>"
  properties = [
    {
      key   = "accessId"
      value = "<service-account-email>"
    },
    {
      key   = "bucket"
      value = "<gcs-bucket-name>"
    },
    {
      key   = "compression"
      value = "true"
    },
    {
      key   = "vaulttype"
      value = "GoogleNative"
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `appliance_clusterid` (String) Provide the backup/recovery appliance ID.
- `name` (String) Provide a name for the storage pool.
- `pooltype` (String) Specify the storage pool type as “Vault”.
- `properties` (Attributes List) Provide the key-value pair for the diskpool. It can be accessid, bucket name, vaultype or compression. (see [below for nested schema](#nestedatt--properties))

### Optional

- `vaultprops` (Attributes) It displays the properties of OnVault. (see [below for nested schema](#nestedatt--vaultprops))

### Read-Only

- `capacity_mb` (Number) It displays the current pool capacity in Megabytes.
- `cluster` (Attributes) It displays the properties of the cluster. (see [below for nested schema](#nestedatt--cluster))
- `free_mb` (Number) It displays the free pool space in Megabytes.
- `href` (String) It displays the URL to access the storage pools in the management console.
- `id` (String) It displays the backup/recovery appliance ID.
- `immutable` (Boolean) It displays the immutable values - true or false.
- `mdiskgrp` (String) It displays the storage pool name.
- `metadataonly` (Boolean) Identifies if this Storage pool is used for PD snapshot metadata or as a backup data storage pool. It displays true or false.
- `modifydate` (Number) It displays the modified date in epoch time or date conversion.
- `pct` (Number) It displays the percentage of the pool used.
- `pooltypedisplayname` (String) It displays the type of storage pool (cloud/perf/primary/vault), where perf = snapshot type.
- `safepct` (Number) It displays the safe percent number, where alerts are generated once this threshold is met. Backup jobs or mounts will not be possible where this value is met.
- `srcid` (String) It displays the source ID on the appliance.
- `stale` (Boolean) It displays the state of the disk pool. Ok indicates the disk pool is healthy.
- `state` (String) It displays the state of the disk pool. Ok indicates the disk pool is healthy.
- `status` (String) It displays the status of the disk pool. The green indicates the disk pool has available space.
- `syncdate` (Number) It displays the last sync date.
- `udsuid` (Number)
- `usage_mb` (Number) It displays the current consumption of the pool in Megabytes.
- `usedefaultsa` (Boolean) It displays true or false.
- `warnpct` (Number) It displays the warn percent number, where alerts are generated once this threshold is met. Backup jobs and mounts can continue in this warning state.

<a id="nestedatt--properties"></a>
### Nested Schema for `properties`

Required:

- `key` (String) Provide the storage pool attributes. It can be object size, use ssl, bucket name, or ID.
- `value` (String) Provide storage pool values.


<a id="nestedatt--vaultprops"></a>
### Nested Schema for `vaultprops`

Read-Only:

- `bucket` (String) It displays the OnVault pool bucket ID.
- `compression` (Boolean) It displays the possible compression values true or false.
- `href` (String) It displays the API URI for disk pool.
- `id` (String) It displays the unique ID for objects.
- `region` (String) It displays the region where the OnVault pool is created.
- `stale` (Boolean) It displays the possible values true or false.
- `syncdate` (Number) It displays the last sync date in epoch converted format.


<a id="nestedatt--cluster"></a>
### Nested Schema for `cluster`

Read-Only:

- `clusterid` (String) It displays the backup/recovery appliance ID as shown in the *Management console* > *Manage* > *Appliances* page.
- `href` (String) It displays the API URI for disk pool.
- `id` (String) It displays the unique cluster ID used in api call.
- `ipaddress` (String) It displays the IP address of the backup/recovery appliance ID.
- `name` (String) It displays the name of the storage pool.
- `pkibootstrapped` (Boolean) It displays if the PKI boot strap is enabled or not.
- `projectid` (String) It displays the project ID used to create the OnVault pool.
- `publicip` (String) It displays the public IP of the backup/recovery appliance ID.
- `region` (String) It displays the region where the OnVault pool is created.
- `secureconnect` (Boolean) It displays the possible values for secure connect as true or false.
- `serviceaccount` (String) It displays the GCP service account used for OnVault pool access.
- `stale` (Boolean) It displays the possible values true or false.
- `supportstatus` (String) It displays the appliance up to date with latest patches or updates status. It can be true or false.
- `syncdate` (Number) It displays the last sync date between appliance and management console.
- `type` (String) It displays the appliance type.
- `version` (String) It displays the version of the backup appliance.
- `zone` (String) It displays the zone where the appliance is located.
